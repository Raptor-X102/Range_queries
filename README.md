# RB Tree Implementation

Реализация красно-черного дерева (Red-Black Tree) с сравнением производительности со стандартным `std::set`.

## Структура проекта

```
RB_tree/
├── headers/
│   ├── RB_tree.h          # Реализация красно-черного дерева
│   ├── Set_tree.h         # Обертка для std::set
│   ├── Tree_tester.h      # Шаблонный класс для тестирования
│   └── Timer.h            # Класс для замера времени
├── src/
│   ├── RB_tree_main.cpp   # Основная программа для RB_tree
│   └── Set_tree_main.cpp  # Основная программа для Set_tree
├── tests/
│   └── src/
│       └── test_main.cpp  # Тесты и сравнение производительности
└── CMakeLists.txt         # Основной файл сборки
```

## Сборка

### Основные программы

```bash
mkdir build
cd build
cmake ..
make
```

Создаются исполняемые файлы:
- `RB_tree_main` - программа для RB_tree
- `Set_tree_main` - программа для Set_tree

### Тесты

```bash
cd tests
mkdir build
cd build
cmake ..
make
```

Создается исполняемый файл `TreeTests` для запуска тестов.

## Использование

### Основные программы

Программы читают одну строку ввода и выводят результаты запросов.

Формат ввода:
- `k <число>` - вставить ключ
- `q <left> <right>` - запрос количества ключей в диапазоне (left < key ≤ right)

Пример:
```bash
echo "k 10 k 20 q 8 31 q 6 9 k 30 k 40 q 15 40" | ./RB_tree_main
```
Вывод: `2 Ø 3`

### Тесты

Запуск всех тестов:
```bash
./TreeTests
```

Тесты включают:
- Сравнение корректности работы RB_tree и std::set
- Замеры времени выполнения
- Тесты на больших объемах данных

## Формат вывода

- Числа - количество ключей в диапазоне
- Время выполнения выводится в stderr (микросекунды)

## Особенности реализации

- RB_tree использует `unique_ptr` для управления памятью
- Поддерживает копирование и перемещение
- Автоматическая балансировка при вставке
- Все операции гарантируют O(log n) время выполнения

## Алгоритмы

- Вставка с балансировкой по правилам красно-черного дерева
- Поиск границ диапазона через `upper_bound`
- Подсчет элементов через последовательный обход

## Сравнение производительности

Тесты показывают сравнение времени выполнения между собственной реализацией RB_tree и стандартным `std::set`.
